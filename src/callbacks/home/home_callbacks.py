import os

from dash import ALL, Input, Output, State, ctx, html
from dash.exceptions import PreventUpdate
from strsimpy.jaro_winkler import JaroWinkler

from .api_query import *

WORDS = ['abala', 'abalahin', 'abangan', 'abdominal', 'abiso', 'abo', 'abogado', 'abu', 'abuloy', 'ac', 'accuracy', 'ace', 'acidic', 'acquaintance', 'acronym', 'ad', 'adam', 'agad', 'agahan', 'agam-agam', 'agila', 'agos', 'ahas', 'ahensiya', 'ahensya', 'ahente', 'akademya', 'akay', 'aklat', 'aklatan', 'akto', 'aktres', 'alaala', 'alagaan', 'alagad', 'alak', 'alapaap', 'alas', 'alat', 'album', 'alerto', 'alindog', 'alinlangan', 'alinsunod', 'alipin', 'alis', 'alisin', 'alkalde', 'allen', 'almusal', 'aloha', 'alok', 'aloy',
         'alpha', 'altar', 'alyansa', 'ama', 'amazon', 'ambisyon', 'ambulansiya', 'ambulansya', 'amo', 'amor', 'amp', 'anas', 'andar', 'anderson', 'angkan', 'ani', 'anibersaryo', 'anim', 'anino', 'antanda', 'antay', 'anunsiyo', 'aparador', 'apat', 'apaw', 'apura', 'ara', 'aralin', 'araw', 'argumento', 'ari-arian', 'arkanghel', 'arkila', 'arkitekto', 'armas', 'army', 'arogante', 'arsobispo', 'artikulo', 'artista', 'asa', 'asawa', 'asikaso', 'asno', 'aspalto', 'asset', 'astronomer', 'asul', 'asunto', 'at', 'atas', 'atay', 'ate', 'atras', 'atraso', 'aurora', 'av', 'avatar', 'avon', 'awayin', 'awit', 'awtoridad', 'ayusin', 'baba', 'babae', 'babala', 'babe', 'baboy', 'bachelor', 'backseat', 'bacon', 'bading', 'badminton', 'bag', 'baga', 'bagaman', 'bagito', 'bago', 'bagon', 'bagot',
         'bagsik', 'baguhan', 'baguhin', 'baha', 'bahag', 'bahaghari', 'bahagi', 'bahagya', 'bahala', 'bahaw', 'bahay', 'bahid', 'bahin', 'bahing', 'baho', 'bahura', 'baka', 'bakante', 'bakas', 'bakla', 'bako', 'bakod', 'bakulaw', 'bakuna', 'bakuran', 'bala', 'balabal', 'balag', 'balakang', 'balakid', 'balakubak', 'balang', 'balangkas', 'balanse', 'balas', 'balat', 'balbal', 'baldado', 'balde', 'baldwin', 'balibol', 'balidasyon', 'balikat', 'balisa', 'balisong', 'balita', 'balitaktakan', 'baliw', 'ball', 'balyena', 'banal', 'banat', 'bandera', 'bandido', 'bandila', 'bane', 'banga', 'bangaw', 'bangis', 'bangka', 'bangko', 'bansa', 'bansag', 'bansot', 'bantay', 'bantog', 'bantot', 'banwa', 'banyo', 'baraha', 'baraka', 'barangay', 'bareta', 'baril', 'basa', 'basag', 'basahan', 'basbas', 'base', 'basehan', 'basilica', 'basket', 'basketball', 'basketbol', 'baso', 'basura', 'basurahan', 'bata', 'batak', 'batas', 'batasan', 'batayan', 'baterya', 'batiin', 'batik', 'bato', 'batugan', 'bawasan', 'bay', 'bayabas', 'bayag', 'bayan', 'bayani', 'baybay', 'bayong', 'bayuhin', 'baywang', 'beke', 'bell', 'benta', 'bentahe', 'bentilador', 'berde', 'bernard', 'beso', 'beta', 'beth', 'bethe', 'beybi', 'bibe', 'bibig', 'bible', 'biblia', 'bibliya', 'bida', 'bigas', 'bigay', 'bigkasin', 'bigla', 'bihasa', 'bihira', 'bihis', 'biik', 'biktima', 'bilang', 'bilanggo', 'bilangguan', 'bilangin', 'bilasa', 'bilat', 'bilhin', 'bilis', 'bilog',
         'bilyar', 'bilyon', 'bimpo', 'binata', 'bingit', 'binibini', 'binta', 'bintana', 'binti', 'birhen', 'biro', 'bisa', 'bisig', 'bisikleta', 'bisita', 'bitag', 'bituin', 'bituka', 'black', 'blend', 'blue', 'bobo', 'bodega', 'bogart', 'boksing', 'bokya', 'bol', 'bola', 'bolero', 'bomba', 'bomber', 'bonus', 'boom', 'booth', 'born', 'boses', 'bote', 'botohan', 'bowling', 'braso', 'brilyante',
         'bruha', 'bubong', 'bubuyog', 'buck', 'bughaw', 'bugso', 'bugtong', 'buhangin', 'buhay', 'buho', 'buhok', 'buhos', 'bukas', 'bukid', 'buklatin', 'buko', 'buksan', 'bula', 'bulaklak', 'bulbol', 'bulkan', 'bumaba', 'bumagsak', 'bumaling', 'bumbilya', 'bumigkas', 'bumilang', 'bumili', 'bumper', 'bumuo', 'bundok', 'bunga', 'bunganga', 'bungo', 'bunso', 'buntot', 'buo', 'buod', 'bura', 'burahin', 'burat', 'burger', 'burns', 'burol', 'bus', 'busina', 'butas', 'butaw', 'butiki', 'butler', 'buto', 'buwan', 'buwaya', 'cam', 'canadian', 'candy', 'cap', 'carbon', 'cartier', 'charles', 'chess', 'chi', 'chirp', 'christ', 'ci', 'ciao', 'cider', 'click', 'clover', 'colon', 'compact', 'complaint', 'constable', 'contrary', 'converse', 'convertible', 'coo', 'cook', 'cooler', 'coward', 'cracker', 'crawford', 'crore', 'crow', 'cuts', 'daan', 'dada', 'daga', 'dagat', 'dagdag', 'dagdagan', 'dahilan', 'dahon', 'dalaga', 'dalagita', 'dalamhati', 'dalampasigan', 'dalandan', 'dalawampu', 'dalhin', 'dali', 'daliri', 'dalisay', 'daloy', 'daluyan', 'dam', 'dama', 'dambana', 'damdamin', 'dami', 'damit', 'damot', 'dampi', 'dams', 'damuhan', 'danas', 'dangal', 'danyos', 'dapithapon', 'darling', 'darts', 'darwin', 'database', 'dati', 'datos', 'david', 'davis', 'day', 'dayuhan', 'dean', 'debate', 'decaf', 'dekada', 'dekorasyon', 'delikado', 'delta', 'demonyo', 'deodorant', 'devil', 'diamond', 'diana', 'dias', 'diaz', 'dibdib', 'dibisyon', 'digmaan', 'dike', 'dikya', 'dila', 'dilaw', 'diligan', 'dilim', 'dilis', 'dinamita', 'direksyon', 'dis', 'disgrasya', 'disiplinado', 'disipulo', 'diskarte', 'disturbance', 'disyerto', 'diwa', 'diyamante', 'doge', 'doggie', 'doggy', 'dogie', 'doktor', 'doktrina', 'dokumento', 'dolyar', 'don', 'dong', 'dosena', 'dragon', 'drake', 'drama', 'drayber', 'drew', 'drift', 'driver', 'drone', 'drumstick', 'duda', 'dugo', 'dugtong', 'duhat', 'dulang', 'dumaing', 'dumaong', 'dumating', 'dumausdos', 'dumi', 'dumpling', 'dumplings', 'dumulas', 'dungis', 'dungisan', 'dunong', 'durog', 'durugin', 'duwag', 'duwelo', 'duwende', 'dvd', 'dyaryo', 'dyip', 'ebak', 'ebanghelyo', 'ecstasy', 'edad', 'ehemplo', 'ehersisyo', 'einstein', 'ekonomista', 'ekonomiya', 'eksakto', 'eksaminasyon', 'eksperto', 'eleksyon', 'elektrisidad', 'elepante', 'elijah', 'elise', 'embahador', 'embodiment', 'emu', 'epidemiologist', 'ere', 'eskuwela', 'espasyo', 'espiritu', 'espresso', 'estado', 'estudyante', 'eta', 'evans', 'exec', 'failure', 'ferry', 'flora', 'flute', 'ford', 'forth', 'france', 'french', 'friendly', 'fry', 'gabay', 'gabi', 'gabinete', 'gala', 'galak', 'galamay', 'galaw', 'galit', 'galitin', 'galos', 'gambalain', 'game', 'gamit', 'gamitin', 'gamot', 'ganahan', 'ganap', 'ganda', 'gandahan', 'ganoon', 'gansa', 'gantimpala', 'gapang', 'garapata', 'garapon', 'garbo', 'gasgas', 'gasolina', 'gatas', 'gatungan', 'gawa', 'gawain', 'gawin', 'gayuma', 'gb', 'gee', 'gem', 'geologist', 'gi', 'gib', 'gila', 'gilagid', 'gilbert', 'gilid', 'giliw', 'ginang', 'ginaw', 'ginoo', 'ginto', 'gising', 'gisingin', 'gitara', 'gitarista', 'giyera', 'global', 'globo', 'go', 'gobyerno', 'gogol', 'gong', 'goya', 'grabe', 'grado', 'graham', 'gramo', 'granada', 'grant', 'grasa', 'grass', 'green', 'grey', 'grupo', 'gubat', 'guest', 'guhit', 'gulatin', 'gulo', 'gumabay', 'gumagana', 'gumamit', 'gumawa', 'gunggong', 'guni-guni', 'gunita', 'gunting', 'gurang', 'guro', 'gusali', 'gutom', 'gutumin', 'guwardiya', 'gwapo', 'gyera', 'habulin', 'hacker', 'hagdan', 'hagdanan', 'haggard', 'hagis', 'hagok', 'hagupit', 'hakbang', 'halaga', 'halakhak', 'halakhakan', 'halal', 'halalan', 'halaman', 'hale', 'halimaw', 'halimbawa', 'halimuyak', 'hall', 'halo-halo', 'halos', 'hambog', 'hamburger', 'hampas', 'hanap', 'hanapbuhay', 'hanapin', 'handa', 'hangal', 'hangarin', 'hangganan', 'hangin', 'hapag', 'hapag-kainan', 'hapdi', 'haplos', 'hapunan', 'hari', 'harina', 'harvey', 'hataw', 'hati', 'hatiin', 'hawakan', 'hawig', 'hayaan', 'hayag', 'hayok', 'hayop', 'he', 'heart', 'henerasyon', 'henry', 'henyo', 'hepe', 'hesus', 'higaan', 'higante', 'higop', 'hilaga', 'hilagang-kanluran', 'hilagang-silangan', 'hilaw', 'hilera', 'hilik', 'hilo', 'himagsikan', 'himala', 'himpapawid', 'himpilan', 'himukin', 'hinaharap', 'hingi', 'hingil', 'hinlalaki', 'hintay', 'hinto', 'hintuturo', 'hipuin', 'hita',
         'hiwaga', 'hiwain', 'hiyaw', 'hockey', 'holmes', 'homer', 'hood', 'horror', 'hostile', 'hotel', 'hubog', 'hugis', 'hukay', 'hula', 'huli', 'hulog', 'humantong', 'humiyaw', 'humupa', 'hunt', 'husto', 'huwaran', 'hydrogen', 'iangat', 'ianunsiyo', 'ianunsyo', 'iba', 'ibaba', 'ibahin', 'ibasura', 'ibenta', 'ibigay', 'ibigin', 'ibilang', 'ibiyahe', 'ibon', 'ibunyag', 'icing', 'ideklara', 'idikit', 'idinikit', 'idlip', 'idolo', 'igawad', 'igos', 'ihatid', 'ihayag', 'ika-anim', 'ika-apat', 'ika-siyam', 'ikabit', 'ikatuwa', 'ikawalo', 'ilagay', 'ilalim', 'ilathala', 'ilaw', 'ilihim', 'ilista', 'ill', 'ilong', 'ilusyon', 'ima', 'imahen', 'imbakan', 'imbentaryo', 'imortal', 'impeksiyon', 'impormasyon', 'importante', 'imposible', 'impyerno', 'inahin', 'inam', 'indibiduwal', 'indibidwal', 'infant', 'inggit', 'inis', 'init', 'inom', 'insekto', 'insentibo', 'inspiration', 'instrumental', 'instrumento', 'interesado', 'inti', 'intindi', 'inumin', 'ipaalala', 'ipaalam', 'ipagbili', 'ipagbunyi', 'ipagkaloob', 'ipagmalaki', 'ipagpalagay', 'ipagtapat', 'ipagyabang', 'ipakilala', 'ipaliwanag', 'ipamahagi', 'ipin', 'ipinatong', 'ipis', 'ipon', 'ipot', 'irog', 'iron', 'isa', 'isaalang-alang', 'isahan', 'isakatuparan', 'isalin', 'isama', 'isara', 'isda', 'isip-bata', 'iskor', 'isla', 'istasyon', 'istilo', 'istorbo', 'istrikto', 'istupido', 'isulat', 'isyu', 'itago', 'itala', 'itampok', 'itanim', 'itapon', 'itatag', 'itayo', 'itim', 'itsura', 'itulak', 'itusok', 'iwan', 'iwasan', 'james', 'java', 'jenner', 'jesus', 'jet', 'jinx', 'jogging', 'johnson', 'joker', 'jong', 'jordan', 'joyce', 'juno', 'kaalaman', 'kaalitan', 'kaalyado', 'kaarawan', 'kaawa-awa', 'kaaway', 'kabaligtaran', 'kabaliwan', 'kabayaran', 'kabayo', 'kabibe', 'kabigin', 'kabiguan', 'kabinet', 'kabisera', 'kabit', 'kable', 'kabo', 'kabuhayan', 'kabuuan', 'kadamay', 'kagalang-galang', 'kagalit', 'kagalitan', 'kaganapan', 'kagilagilalas', 'kagubatan', 'kaguluhan', 'kagutuman', 'kahalili', 'kahapon', 'kaharian', 'kahon', 'kaibig-ibig', 'kaibigan', 'kain', 'kainggitan', 'kaisipan', 'kakahuyan', 'kakarampot', 'kakaunti', 'kakilala', 'kalaban', 'kalabasa', 'kalabaw', 'kalagayan', 'kalakal', 'kalakasan', 'kalamangan', 'kalamares', 'kalansay', 'kalapati', 'kalasag', 'kalatas', 'kalawakan', 'kaldereta', 'kalidad', 'kaligayahan', 'kaliwa', 'kaliwete', 'kalkal', 'kalo', 'kalokohan', 'kaloob', 'kalsada', 'kalungkutan', 'kalupaan', 'kalye', 'kama', 'kamag-anak', 'kamandag', 'kamao', 'kamatis', 'kamay', 'kambing', 'kamelyo', 'kami', 'kampanya', 'kamukha', 'kamutin', 'kanan', 'kandila', 'kanin', 'kanta', 'kanto', 'kanyon', 'kapahamakan', 'kapakanan', 'kapal', 'kapaligiran', 'kapalit', 'kapalpakan', 'kapangyarihan', 'kapansanan', 'kapareho', 'kape', 'kapit', 'kapital', 'kapitan', 'kapitolyo', 'kapkapan', 'kapos', 'kapote', 'kapuluan', 'karagatan', 'karakter', 'karamdaman', 'karanasan', 'karapatan', 'karate', 'karatig', 'karo', 'kasaganaan', 'kasakiman', 'kasalanan', 'kasalungat', 'kasama', 'kasangkapan', 'kasarian', 'kasawian', 'kasaysayan', 'kasintahan', 'kasiya-siya', 'kasiyahan', 'kaskasero', 'kaso', 'kasulatan', 'kasunduan', 'kasuotan', 'katabaan', 'katabi', 'kataga', 'kataka-taka', 'katapangan', 'katapusan', 'katatawanan', 'katauhan', 'katawa-tawa', 'katawan', 'katayin', 'katayuan', 'kathang-isip', 'kati', 'katinuan', 'katiting', 'katotohanan', 'katulad', 'katulong', 'katumbas', 'katunggali', 'katwiran', 'kaugnayan', 'kautusan', 'kawala', 'kawikaan', 'kaya', 'kayumanggi', 'kb', 'kean', 'kelly', 'kelvin', 'kent', 'keyk', 'khi', 'kidlat', 'kiki', 'kilay', 'kilo', 'kilos', 'kilusan', 'kina', 'kinabukasan', 'kinahinatnan', 'kinakabahan', 'kinakailangan', 'kinapal', 'kinatatayuan', 'kinatawan', 'kinse', 'kinurakot', 'kirot', 'kitilin', 'kiwi', 'klaro', 'klase', 'klee', 'knight', 'kokak', 'komedya', 'komedyante', 'kompanya', 'kompetisyon', 'komposisyon', 'kondisyon', 'konek', 'konklusyon', 'kopya', 'kopyahin', 'kota', 'kotse', 'krishna', 'kristo', 'krudo', 'krus', 'krusada', 'kubyertos', 'kulamin', 'kulang', 'kulay', 'kulo', 'kulog', 'kulungan', 'kumain', 'kumander', 'kumandidato', 'kumirot', 'kumot', 'kumpiyansa', 'kuneho', 'kunin', 'kura', 'kuripot', 'kuro-kuro', 'kurso', 'kurtina', 'kuryente', 'kusa', 'kuting', 'kutis', 'kuto', 'kutsara', 'kutsero', 'kutsilyo', 'kuwaderno', 'kuwarto', 'kuwenta', 'kuwento', 'kuwintas', 'kuya', 'kwanza', 'labanan', 'labi', 'labing-apat', 'labing-isa', 'labis', 'lagay', 'lagda', 'lagdaan', 'lagi', 'lagim', 'laglag', 'lagnat', 'lagusan', 'lahad', 'lahat', 'lakad', 'lakaran', 'lakas', 'laki', 'lalagyan', 'lalake', 'lalaki', 'lalamunan', 'lalo', 'lamb', 'lambda', 'lamesa', 'lamig', 'lamina', 'lamok', 'lampara', 'land', 'landas', 'langaw',
         'langgam', 'langis', 'langit', 'langka', 'lango', 'langoy', 'lansangan', 'lantad', 'lantaran', 'laos', 'lapa', 'lapat', 'lapis', 'larawan', 'laro', 'laruan', 'lasa', 'lasagna', 'lasapin', 'lasing', 'lason', 'latigo', 'lawin', 'layas', 'layo', 'layon', 'layuan', 'lead', 'lee', 'leeg', 'leigh', 'lek', 'leksyon', 'lena', 'lengguwahe', 'lente', 'leon', 'letra', 'lev', 'lewis', 'libag', 'libo', 'libog', 'libra', 'libre', 'libro', 'ligaw', 'ligaya', 'ligo', 'ligtas', 'liham', 'lihim', 'likas', 'likha', 'likod', 'limitado', 'limitasyon', 'limos', 'limot', 'lin', 'linaw', 'lindol', 'lineman', 'linggo', 'linis', 'linya', 'lipad', 'lipat', 'lipulin', 'liriko', 'lista', 'listahan', 'lister', 'lito', 'litro', 'liwanag', 'lloyd', 'lobo', 'lodge', 'log', 'lokasyon', 'loko', 'lola', 'lolo', 'loob', 'looban', 'lorenz', 'lotion', 'lubos', 'lugod', 'luha', 'lumaban', 'lumapit', 'lumbay', 'lumihis', 'lumiit', 'lumikha', 'lumpo', 'lumubog', 'luna', 'lunas', 'lundag', 'lungkot', 'luntian', 'lupa', 'lupain', 'lupaypay', 'lupig', 'lupit', 'maaga', 'maagap', 'maalat', 'maaraw', 'maasim', 'maayos', 'mababaw', 'mabahala', 'mabait', 'mabanas', 'mabango', 'mabasa', 'mabibigay', 'mabigat', 'mabilis', 'mabuti', 'macaroni', 'madalas', 'madaldal', 'madali', 'madaling', 'madilim', 'madre', 'mag-alay', 'mag-antabay', 'magaan', 'magaaral', 'magalang', 'magaling', 'magalit', 'maganda', 'magbalak', 'magbilang', 'magbitiw', 'magbunga', 'magbunsod', 'magdala', 'magdalena', 'magdaraya', 'magdesisyon', 'magdulot', 'maghanap', 'maghandog', 'maghangad', 'magiliw', 'maging', 'maginhawa', 'magipon', 'magkadugo', 'magkakamukha', 'magkakapareho', 'magkamit', 'magkasundo', 'maglaway', 'maglibang', 'magluto',
         'magma', 'magmaneho', 'magmasid', 'magmay-ari', 'magnakaw', 'magpapayat', 'magpatakbo', 'magpatala', 'magpatiwakal', 'magplano', 'magreklamo', 'magsanay', 'magsara', 'magsaya', 'magsuklay', 'magsulat', 'magsumbong', 'magtago', 'magtaka', 'magtanim', 'magtipid', 'magtipon', 'magtulak', 'magutom', 'magwakas', 'magyabang', 'mahalaga', 'mahalay', 'mahalin', 'mahigpit', 'mahika', 'mahina', 'mahirap', 'mahusay', 'maibigan', 'maigi', 'maigsi', 'maikli', 'maiksi', 'mailer', 'mainam', 'maingay', 'mainit', 'mais', 'makakaya', 'makalampas', 'makalimutin', 'makaraos', 'makarating', 'makata', 'makati', 'makina', 'makinang', 'makinarya', 'makinis', 'makipot', 'makuha', 'makulit', 'makunat', 'makupad', 'malagay', 'malakas', 'malaki', 'malaman', 'malambot', 'malamig', 'malapad', 'malapit', 'malawak', 'malaya', 'malayo', 'maleta', 'mali', 'maliit', 'malik', 'malimit', 'malinaw', 'malinis', 'maliwanag', 'malungkot', 'malupit', 'maluwag', 'mamatay', 'mamaya', 'mamitas', 'mamon', 'mandaya', 'mangampanya', 'mangasiwa', 'mangatwiran', 'mangga', 'manghinayang', 'manipis', 'manloko', 'manloloko', 'manna', 'mansanas', 'manta', 'mantel', 'mantsa', 'mapa', 'mapaglaro', 'mapagmahal', 'mapagmataas', 'mapagpasensya', 'mapait', 'mapakla', 'mapalad', 'mapapunta', 'mapilit', 'maputla', 'marahas', 'mare', 'mark', 'marka', 'mars', 'marsh', 'marshall', 'martilyo', 'martsa', 'masagana', 'masaya', 'masayahin', 'masdan', 'masid', 'masigasig', 'masigla', 'masikap', 'maskara', 'maskulado', 'maso', 'mason', 'masugid', 'masuwerte', 'mata', 'mataba', 'matakaw', 'matalas', 'matalim', 'matalino', 'matamlay', 'matanda', 'matapang', 'matatag', 'mate', 'materyales', 'matibay', 'matindi', 'matino', 'matiyaga',
         'maton', 'matrabaho', 'matsing', 'matulin', 'matutunan', 'matyagan', 'maxwell', 'may-ari', 'maya', 'mayabang', 'mayaman', 'mb', 'medyas', 'mekaniko', 'mem', 'membrane', 'menor', 'mensahe', 'mensahero', 'merkado', 'meryenda', 'mesa', 'meteorologist', 'metro', 'michael', 'milagro', 'militar', 'mill', 'miller', 'milne', 'milyon', 'minsan', 'minuto', 'misa', 'misteryo', 'miswa', 'misyon', 'mithiin', 'mixer', 'mobile', 'mocha', 'modelo', 'monitor', 'moo', 'moreno', 'morse', 'mortal', 'mosyon', 'motif', 'motorista', 'mouthpiece', 'mu', 'mukha', 'mukmok', 'muli', 'multa', 'multo', 'mumo', 'mundo', 'muning', 'munti', 'mura', 'murahin', 'musika', 'mx', 'nabigo', 'nabubuhay', 'nag-aalangan', 'nag-iisa', 'nagtapos', 'nahihilo', 'nahulog', 'naiinom', 'naira', 'nakabukas', 'nakakapagod', 'nakakapanghina', 'nakalipas', 'nakalulugod', 'nakamamatay', 'nakatalo', 'nakikipagtalo', 'nalabag', 'nalaglag', 'nalilito', 'naliliyo', 'nanay', 'nanlalambot', 'napakahirap', 'napakalalim', 'napanalunan', 'napkin', 'nash', 'nasira', 'nasyon', 'natatangi', 'nawala', 'nawawala', 'neon', 'newton', 'ngawa', 'ngawngaw', 'ngipin', 'ngisi', 'ngiti', 'nguso', 'nickel', 'night', 'nilaga',
         'nilalang', 'nile', 'ninakaw', 'ninang', 'ninenerbiyos', 'nipa', 'nitso', 'noah', 'nobel', 'nobya', 'nobyo', 'noo', 'noong', 'novel', 'nu', 'numero', 'numerong', 'nun', 'ob', 'obaryo', 'obligasyon', 'obra', 'obrero', 'obserbasyon', 'oder', 'off', 'ohm', 'ointment', 'okasyon', 'okey', 'okra', 'okupado', 'om', 'omega', 'omnibus', 'onsa', 'oo', 'opensiba', 'opera', 'operasyon', 'opinyon', 'opisina', 'opisyal', 'oportunista', 'oposisyon', 'ops', 'opurtunidad', 'oral', 'orange', 'oras', 'orasyon', 'orbit', 'ordinansa',
         'ordinaryo', 'organisado', 'organisador', 'organisasyon', 'orihinal', 'oso', 'ospital', 'otis', 'oto', 'paa', 'paalaala', 'paalis', 'paalisin', 'paaralan', 'pababa', 'pabango', 'pabayaan', 'pabigat', 'pabilisin', 'pabrika', 'pabuya', 'padaliin', 'pader', 'pag-aalis', 'pag-aani', 'pag-aaral', 'pag-angat', 'pag-ibig', 'pag-iipon', 'pag-iisip', 'pag-iral', 'pagalit', 'pagamutan', 'pagawaan', 'pagbabago', 'pagbabahagi', 'pagbabati', 'pagbaril', 'pagbawalan', 'pagbibitiw', 'pagbubunyi', 'pagdami', 'pagdaramdam', 'pagdating', 'pagdiriwang', 'pagdurusa', 'paghahanap', 'paghahandog', 'paghahati', 'paghanga', 'paghihimagsik', 'paghihintay', 'paghihirap', 'pagkagusto', 'pagkain', 'pagkakaalis', 'pagkakahalal', 'pagkakahawig', 'pagkakahirang', 'pagkakaibigan', 'pagkakaisa', 'pagkakasundo', 'pagkakataon', 'pagkakilala', 'pagkalimot', 'pagkalipas', 'pagkamuhi', 'pagkaraan', 'pagkasuklam', 'pagkatalo', 'pagkatao', 'pagkatapos', 'pagkawala', 'pagkontra', 'paglaban', 'paglalaban', 'pagliban', 'paglinang', 'pagmamahal', 'pagmamaneho', 'pagmamasid', 'pagnanais', 'pagnanasa', 'pagod', 'pagong', 'pagpapahalaga', 'pagpapakamatay', 'pagpapaliban', 'pagpapaputok', 'pagpapatawad', 'pagpapatiwakal', 'pagpigil', 'pagpupursigi', 'pagpuslit', 'pagputol', 'pagsabihan', 'pagsasaka', 'pagsasalarawan', 'pagsasaliksik', 'pagsasanay', 'pagsasara', 'pagsisikap', 'pagsisiyasat', 'pagsusulit', 'pagsusuri', 'pagtakpan', 'pagtalakay', 'pagtanggap', 'pagtataka', 'pagtatalik', 'pagtatapos', 'pagtatayo', 'pagtibayin', 'pagtingin', 'pagtitiis', 'pagtitimpi', 'pagtitipid', 'pagtitiyaga', 'pagtutol', 'pagtutuli', 'pagunlad', 'pagwawakas', 'pagyanig', 'pahabain', 'pahabol', 'pahayag', 'pahayagan', 'pahiga', 'pahilaga', 'pahina', 'pahintuin', 'pahintulutan', 'paikliin', 'pait', 'pakahulugan', 'pakaingatan', 'pakay', 'pakikipagsapalaran', 'pakiramdam', 'pako', 'pakpak', 'pakuluan', 'pakwan', 'palad', 'palagay', 'palagi', 'palaisipan', 'palakasan', 'palakol', 'palamuti', 'palaruan', 'palatandaan', 'palay', 'palayaw', 'palayo', 'palengke', 'paligsahan', 'paliguan', 'palikuran', 'palipasin', 'palit', 'palitan', 'palo', 'palpak', 'palya', 'pamahalaan', 'pamamaraan', 'pamayanan', 'pamaypay', 'pambihira', 'pamilihan', 'pamilya', 'pampagana', 'panadero', 'panaderya', 'panaghoy', 'panaginip', 'panalo', 'pananabik', 'panandalian', 'panangga', 'pananim', 'panata', 'panatiko', 'panatilihin', 'panawag', 'panda', 'pandak', 'panday', 'pandayan', 'pang-amoy', 'pang-unawa', 'panga', 'pangako', 'panganay', 'pangangati', 'panganib', 'pangasiwaan', 'panggagamot', 'panggastos', 'pangingisda', 'pangitain', 'pangkat', 'pangulo', 'pangungulila', 'pangungusap', 'pangyayari', 'paniki', 'paninda', 'paninindigan', 'paniwala', 'pansamantala', 'pansinin', 'pantalon', 'panukala', 'panukat', 'panustos', 'panuto', 'papaya', 'papel', 'papeles', 'paputok', 'para', 'paraan', 'parada', 'paradahan', 'parati', 'pareto', 'parker', 'parol', 'parte', 'paru-paro', 'parusa', 'pasahero', 'pasalubong', 'pasas', 'pasilyo', 'pasimuno', 'pasiya', 'pasukan', 'pasyal', 'pasyente', 'pasyon', 'pataba', 'patabain', 'patagalin', 'patago', 'patalsikin', 'patibayan', 'patlang', 'patnubay', 'pato', 'patunayan', 'patungan', 'paumanhin', 'pawalang-bisa', 'pawikan', 'payag', 'payagan', 'payaso', 'payo', 'payong', 'pe', 'pebble', 'pedal', 'pedestal', 'peep', 'peklat', 'pelikula', 'pentagon', 'pera', 'percy', 'peryodiko', 'peso', 'peste', 'petiks', 'petsa', 'phi', 'pi', 'piccolo', 'pighati', 'pigil', 'pigura', 'piitan', 'pilak', 'pilas', 'pilikmata', 'pilitin', 'pilosopo', 'piloto', 'pinatubo', 'pindutin', 'ping', 'pinggan', 'pingpong', 'pink', 'pino', 'pinsala', 'pinto', 'pintuan', 'pinuno', 'pinya', 'pipi', 'piraso', 'pirma', 'pirmahan', 'pisngi', 'pitaka', 'pito', 'planeta', 'planta', 'plastik', 'platinum', 'po', 'pogi', 'poker', 'pokpok', 'pondo', 'pondohan', 'pook', 'poot', 'pop', 'popular', 'porma', 'posporo', 'post', 'postura', 'potassium', 'pound', 'prang', 'predator', 'premyo', 'presko', 'preso', 'presyo', 'primera', 'probinsiya', 'probinsya', 'problema', 'produkto', 'propesor', 'propesyonal', 'propeta', 'proseso', 'protektor', 'protesta', 'puday', 'pugo', 'pugon', 'puhunan', 'pukpok', 'puksain', 'pukyutan', 'pula', 'pulbo', 'pulbos', 'pulutan', 'pumanig', 'pumaslang', 'pumatay', 'pumayag', 'punahin', 'punan', 'punas', 'puncher', 'punda', 'pundasyon', 'punit', 'punitin', 'puno', 'punto', 'puntod', 'puri', 'puro', 'pusa', 'pusit', 'puso', 'pusod', 'puson', 'pusta', 'putahe', 'putik', 'putok', 'putol', 'putulin', 'puwang', 'puwersa', 'puwesto', 'puwit', 'quack', 'rabies', 'radar', 'radikal', 'radyo', 'raket', 'raketa', 'rama', 'rambutan', 'ranggo', 'rap', 'rason', 'rasyon', 'reaksyon', 'real',
         'realidad', 'rebelasyon', 'rebelde', 'rebelyon', 'rebolusyon', 'rebolusyonaryo', 'rebyu', 'red', 'reforestation', 'refresher', 'regalo', 'regulasyon', 'rehabilitasyon', 'rehistrado', 'rehistro', 'rehiyon', 'rekado', 'reklamo', 'rekomendasyon', 'rekord', 'relasyon', 'relihiyon', 'relos', 'remedyo', 'remote', 'repolyo', 'reporma', 'report', 'reporter', 'representante', 'representasyon', 'republika', 'reputasyon', 'reserba', 'reseta', 'resibo', 'resistensya', 'resolusyon', 'respetado', 'respeto', 'resulta', 'retrato', 'reverse', 'reyna', 'rho', 'rice', 'riel', 'riles', 'rivera', 'roar', 'robot', 'rugby', 'rugger', 'ruler', 'rurok', 'saale', 'sabaw', 'sabihin', 'sabik', 'sabit', 'sabitan', 'sablay', 'sabog', 'sabon', 'sagabal', 'sagana', 'sagarin', 'saging', 'sagip', 'saglit', 'sagutin', 'sahig', 'sahod', 'sahog', 'sakali', 'saki', 'sakim', 'sakit', 'saklaw', 'sako', 'sakop', 'saksak', 'saksakin', 'sakuna', 'salagubang', 'salapi', 'salaysay', 'saligan', 'salit', 'salita', 'salitan', 'salmon', 'sama', 'samahan', 'samantalahin', 'sambitin', 'sampal', 'sampol', 'sampu', 'sand', 'sandali', 'sandata', 'sang-ayon', 'sangay', 'sanggano', 'sanggol', 'sangkalan', 'sanhi', 'sansinukob', 'sapag', 'sapakin', 'sapat', 'sapatos', 'saranggola', 'sardinas', 'sari-sari', 'sariwa', 'sasakyan', 'satsat', 'sausage', 'saya', 'scott', 'screwdriver', 'seaman', 'secondhand', 'sedan', 'segundo', 'seksyon', 'selebrasyon', 'sellers', 'selyo', 'sentinel', 'sentri', 'serbisyo', 'sermon', 'service', 'shah', 'shake', 'shampoo', 'shaw', 'shin', 'showroom', 'sibat', 'sigarilyo', 'sigaw', 'sigla', 'siglo', 'sigma', 'sigurado', 'siguro', 'sikap', 'sikat', 'sikmura', 'siko', 'sikreto', 'silakbo', 'silangan', 'silicon', 'silid', 'silid-aralan', 'silver', 'simon', 'simoy', 'simula', 'simulan', 'sinabi', 'sinaing', 'sinangag', 'sinauna', 'sindak', 'sine', 'singaw', 'singer', 'sinigang', 'sining', 'sinisinta', 'sink', 'sintas', 'sinturon', 'sinumpa', 'sipa', 'sipag', 'siping', 'sipsip', 'sipsipin', 'sira', 'sirena', 'sisidlan', 'sisiw', 'siyam', 'slaughterhouse', 'smith', 'smoothie', 'snake', 'sniper', 'snow', 'sobra', 'soda', 'sol', 'soldier', 'som', 'sombrero', 'sopas', 'sori', 'soya', 'spade', 'spark', 'spencer', 'spike', 'staff', 'stanley', 'stapler', 'stephen', 'stock', 'stone', 'stops', 'subalit', 'submarine', 'subok', 'sue', 'sugapa',
         'sugat', 'sugatan', 'sugo', 'sugod', 'suha', 'suka', 'sukat', 'suklay', 'suko', 'sulat', 'sulatin', 'suliranin', 'sulok', 'sulyap', 'sumakit', 'sumalpok', 'sumalungat', 'sumang-ayon', 'sumara', 'sumbrero', 'sumigaw', 'sumipsip', 'sumo', 'sumpong', 'sumulat', 'sunggaban', 'sunod', 'sunog', 'suntok', 'suntukin', 'sunugin', 'suot', 'supot', 'suriin', 'suso', 'susog', 'sustansya', 'sustento', 'susugan', 'suweldo', 'suyo', 'swag', 'swerte', 'taas', 'taba', 'tabi', 'tabing', 'tadyak', 'tae', 'taft', 'tag-araw', 'tag-init', 'tagahanga', 'tagak', 'tagapagtanggol', 'tagapangalaga', 'tagapayo', 'tagasubaybay', 'tagubilin', 'tagumpay', 'taguri', 'tahanan', 'tahimik', 'tahol', 'taimtim', 'tainga', 'taka', 'takal', 'takas', 'takbo', 'takilya', 'takip', 'takipsilim', 'takong', 'takot', 'taksil', 'takutin', 'tala', 'talaan', 'talaba', 'talampakan', 'talento', 'tali', 'talim', 'talino', 'talipapa', 'talisman', 'talon', 'tama', 'tamad', 'tambangan', 'tambutso', 'tamis', 'tamod', 'tampo', 'tanawin', 'tanda', 'tanga', 'tangayin', 'tanggal', 'tanggalin', 'tanggapan', 'tanggapin', 'tanghalian', 'tanglaw', 'tanim', 'tanso', 'tanyag', 'tao', 'taong-bayan', 'tapakan', 'tapat', 'tapik', 'tapon', 'tapos', 'tapunan', 'tapusin', 'tarangkahan', 'tasa', 'tatak', 'tatay', 'tatlo', 'tatsulok', 'tau', 'taw', 'tawa', 'tawag', 'tawagan', 'tawanan', 'tayo', 'teka', 'tela', 'telebisyon', 'telepono', 'teller', 'tema', 'tenge', 'teorya', 'terorista', 'terror', 'tesla', 'test', 'thompson', 'tibo', 'tigil', 'tigre', 'tiis', 'tilaok', 'tili', 'timba', 'timbangan', 'timbre', 'timog', 'timog-kanluran', 'timog-silangan', 'tin', 'tinapay', 'tinda', 'tindahan', 'tindig', 'tingin', 'tingnan', 'tinig', 'tinola', 'tinta', 'tipaklong', 'tirahan', 'titanium', 'titi', 'titik', 'tito', 'titser', 'tiwala', 'tiyak', 'tiyan', 'tiyanak', 'tiyo',
         'tobey', 'tomboy', 'tonelada', 'torotot', 'torpe', 'trabaho', 'traction', 'tracy', 'trahedya', 'trak', 'traydor', 'tree', 'tren',
         'trilyon', 'trooper', 'tropeo', 'trumpeta', 'trunk', 'tsaa', 'tsaka', 'tsokolate', 'tsuper', 'tubigan', 'tugatog', 'tugisin', 'tugtog', 'tuhod', 'tuklas', 'tukoy', 'tulad', 'tulak', 'tuldok', 'tulin', 'tulisan', 'tulog', 'tumaas', 'tumakbo', 'tumanaw', 'tumanggap', 'tumbong', 'tumpak', 'tumuntong', 'tunghayan', 'tungkod', 'tungkol', 'tungkulin', 'tungo', 'tuning', 'tunog', 'tuod', 'turing', 'turista', 'turner', 'tuso', 'tusok', 'tusukin', 'tutok', 'tuwa', 'tuwalya', 'ubas', 'ubusin', 'udyok', 'ugat', 'ugong', 'uhaw', 'ulam', 'ulan', 'ulat', 'uli', 'ulo', 'ululin', 'ulupong', 'ulyanin', 'umaandar', 'umahon', 'umangat', 'umani', 'umanib', 'umisip', 'umpisa', 'umpisahan', 'umurong', 'umutot', 'una', 'unan', 'unano', 'unawa', 'ungas', 'unggoy', 'ungol', 'uniporme', 'uno', 'unos', 'upuan', 'uri', 'urong', 'usap', 'utak', 'utopia', 'utos', 'utot', 'uwak', 'vega', 'veteran', 'wagi', 'wakas', 'wakasan', 'wala', 'walis', 'walker', 'walo', 'ward', 'warren', 'warrior', 'wasak', 'wasto', 'watawat', 'watson', 'waw', 'wayne', 'wb', 'weird', 'wen', 'west', 'wheeler', 'whey', 'white', 'wika', 'windang', 'won', 'wood', 'xavier', 'xi', 'xian', 'xy', 'yabang', 'yakap', 'yaman', 'yang', 'yapos', 'yaya', 'yelo', 'yen', 'yin', 'yosi', 'yuan', 'yugto', 'yuta', 'zen', 'zion', 'zombie', 'zoology']


def init_callback(app, API_URL):
    @app.callback(
        Output('home-body-container', 'hidden'),
        Output('home-sidebar', 'hidden'),
        Output('submitted-word', 'data'),

        Output('search-word-error', 'children'),
        Output('search-word-error-container', 'hidden'),

        Output('word-exists', 'data'),

        Input('search-word-submit-btn', 'n_clicks'),
        Input('search-word', 'n_submit'),
        State('search-word', 'value')
    )
    def submit_input(n_clicks, n_submit, word):
        if n_clicks >= 1 or n_submit >= 1:
            if word:
                word = word.lower()

                netsci_word_df = get_word_db(API_URL, word)
                nlp_word_df = get_nlp_word(API_URL, word)

                if len(netsci_word_df) >= 1 or len(nlp_word_df) >= 1:
                    return False, False, word.lower(), '', True, True

                else:
                    # Get suggested words
                    jarowinkler = JaroWinkler()
                    suggestions = []

                    for candidate_word in WORDS:
                        distance = 1 - jarowinkler.similarity(
                            candidate_word, word)
                        suggestions.append((distance, candidate_word))

                    MAX_NUM_SUGGESTIONS = 5
                    suggestions = [html.Span(suggestion[1],  className='link-primary me-2',
                                             n_clicks=0,
                                             id={'type': 'suggestion-word',
                                                 'index': suggestion[1]},
                                             style={'text-decoration': 'none'}) for suggestion in sorted(
                        suggestions)[:MAX_NUM_SUGGESTIONS]]

                    return True, True, word.lower(), [html.P(f'"{word}" is not in our database'),
                                                      html.Div([html.Span(
                                                          'Here are some suggested words:', className='me-2')] +
                                                          suggestions)], False, False

        raise PreventUpdate

    @app.callback(
        Output('search-word', 'value', allow_duplicate=True),
        Output('search-word-submit-btn', 'n_clicks', allow_duplicate=True),
        Input({'type': 'suggestion-word',
               'index': ALL}, 'n_clicks'),
        prevent_initial_call=True
    )
    def select_co_occurring_word(n_clicks):
        try:
            if 1 in n_clicks:
                return ctx.triggered_id['index'], 1
        except:
            raise PreventUpdate

        raise PreventUpdate
